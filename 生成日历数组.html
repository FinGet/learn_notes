<script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.18.1/locale/ar.js"></script>
<script type="text/javascript">
// å‘¨å‡ è½¬æ¢æˆä¸­æ–‡ è™½ç„¶æ²¡æœ‰ç”¨åˆ°ğŸ˜
const weekList = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­']
var listOfDatesOfTheMonth = []

// è®¡ç®—æ—¥å†æ‰€éœ€è¦å±•ç¤ºçš„å¤©æ•°
const generatedDate = (val) => {
  // è·å–æ˜¯å‡ æœˆ
  const month = moment(val || new Date()).format('YYYY-MM')
  // è·å–å½“æœˆç¬¬ä¸€å¤©æ˜¯å‘¨å‡ 
  const whichDay = moment(month).startOf('month').weekday()
  // è®¡ç®—å¼€å§‹å¼€å§‹æ—¥æœŸ 7 å‡å»å½“æœˆç¬¬ä¸€å¤©æ˜¯å‘¨å‡ ï¼ˆè·å–åˆ°çš„å‘¨å‡ æ˜¯ 0123456ï¼Œ å…¶ä¸­0ä»£è¡¨å‘¨æ—¥ï¼‰
  const startDate = moment(moment(month).subtract(7 - whichDay, 'days')).format('YYYY-MM-DD')

  // æ•´ç†æ•°æ®
  // [...Array(42).keys()] è¿™ä¸ªæ˜¯ç”Ÿæˆäº†é•¿åº¦42çš„æ•°ç»„ï¼Œä¸ºä»€ä¹ˆæ˜¯42å‘¢ï¼Ÿ å› ä¸ºæœ‰çš„æœˆä»½æ˜¯28 æˆ–è€…30 31ï¼Œ 35 ä¼šå¯¼è‡´æŸäº›æœˆä»½å±•ç¤ºä¸å…¨ã€‚
  listOfDatesOfTheMonth = [...Array(42).keys()].reduce((acc, val) => {
    // è·å–å±•ç¤ºçš„æ—¥æœŸ
    const date = moment(startDate).add(val + 1, 'days').format('YYYY-MM-DD')
    console.log(date)
    // åˆ†å‰²æ—¥æœŸ ç”¨äºè·å–æ˜¯ å‡ å· å¦‚ 123456
    const dateList = date.split('-')
    // è·å–å‘¨å‡ 
    const week = moment(date).weekday()

    // å°†éœ€è¦çš„æ•°æ® æ”¾è¿›æ•°ç»„
    acc.push({ index: val + 1, date: date, day: dateList[dateList.length - 1], week: weekList[week] })
    // è¿”å›æ•°ç»„ ä¸ºå•¥è¦è¿”å› å¯ä»¥å»mdn çœ‹ä¸‹reduce
    return acc
  }, [])
}
</script>