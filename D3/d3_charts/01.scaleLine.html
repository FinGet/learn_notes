<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script>
    // 线性比例尺
    //1.分析这个数据需要使用线性比例尺
    const y = d3.scaleLinear()
      .domain([0,1000]) //已知输入域为0-1000
      .range([0,200]) //值域为0-200 展示数据的区域

    // 2.得到数据
    let array = [100,150,285,360,980]

    /** 
     * 动态计算输入域的最大值 
    array = [1000,350,1285,760,680]
    //计算新的输入域d3.extent(array)将会返回array的最小值和最大值
    y.domain([0,d3.max(array)])
    */

    // 3.创建图表
    array.forEach(function(d){
      console.log(y(d))
      d3.select("#root").append('div').html(y(d))
    })

    // 有序序数比例尺
    const color = d3.scaleBand()
      .domain([1,2,3,4])
      .range([0,100])
    
    console.log(color(1)) // 0
    console.log(color(3)) // 50
    console.log(color(4)) // 75

    // 无序序数比例尺
    const scale = d3.scaleOrdinal()
      .domain(['jack', 'rose', 'john'])
      .range([10, 20, 30])
    console.log(scale('jack'))

    // 量化比例尺
    const scale2 = d3.scaleQuantize()
      .domain([0, 10])
      .range(['small', 'medium', 'long'])

    console.log(scale2(2)) // small
    console.log(scale2(8)) // long

    // 时间比例尺
    const scale3 = d3.scaleTime()
      .domain([new Date(2021, 0, 1), new Date(2021, 0, 31)])
      .range([0, 30])
    
    console.log(scale3(new Date(2021, 0, 15)))
  </script>
</body>
</html>